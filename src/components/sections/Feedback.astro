---
import FeedbackCard from "../ui/FeedbackCard.astro";
import FeedbackForm from "../ui/FeedbackForm.astro";

const testimonials = [
    {
        rating: 5,
        text: "Coucou! Fandango était top aujourd'hui, plus de gêne ni rien merci beaucoup",
        author: "Alicia",
    },
    {
        rating: 5,
        text: "Coucou Morgane, Des p'tites nouvelles d'Eclat après ma séance d'aujourd'hui : je l'ai trouvé très en forme, souple et énergique. Merci beaucoup pour ton travail",
        author: "Chloé",
    },
    {
        rating: 5,
        text: "Super massage et super masseuse ! Je recommande vivement :)",
        author: "Jeanne",
    },
];
---

<section id="feedback" class="feedback">
    <div class="section-header">
        <span class="section-label">Témoignages</span>
        <h2>Ce que disent nos clients</h2>
        <div class="divider"></div>
    </div>

    <!-- Avis clients -->
    <div class="feedback-container">
        {
            testimonials.map((testimonial) => (
                <FeedbackCard
                    rating={testimonial.rating}
                    text={testimonial.text}
                    author={testimonial.author}
                />
            ))
        }
    </div>

    <div class="feedback-note">
        <p>
            Partagez votre expérience sur Google pour aider d'autres
            propriétaires d'animaux !
        </p>
        <a
            href="https://g.co/kgs/FHf4ry1"
            target="_blank"
            rel="noopener noreferrer"
            class="google-review-button"
        >
            Laisser un avis Google
        </a>
    </div>
</section>

<style>
    .feedback {
        background: var(--secondary-color);
        position: relative;
    }

    .feedback::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 40%;
        height: 100%;
        background-image: url("/images/cheval-portrait.jpg");
        background-size: cover;
        background-position: center;
        opacity: 0.03;
        pointer-events: none;
    }

    .section-header {
        text-align: center;
        margin-bottom: 4rem;
    }

    .section-label {
        display: inline-block;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--accent-color);
        font-weight: 500;
        margin-bottom: 0.75rem;
    }

    .section-header h2 {
        margin-bottom: 1rem;
    }

    .divider {
        width: 60px;
        height: 3px;
        background: var(--primary-color);
        margin: 0 auto;
    }

    .feedback-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5rem;
        margin: 3rem 0;
    }

    .feedback-note {
        text-align: center;
        margin-top: 3rem;
        padding: 2rem;
        background: white;
        border-radius: 8px;
        box-shadow: var(--shadow-sm);
    }

    .feedback-note p {
        margin-bottom: 1.5rem;
        color: var(--text-medium);
        font-size: 1.05rem;
    }

    .google-review-button {
        display: inline-block;
        background: var(--primary-color);
        color: var(--secondary-color);
        padding: 1rem 2.5rem;
        border-radius: 4px;
        font-weight: 500;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(120, 84, 68, 0.3);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .google-review-button:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(120, 84, 68, 0.4);
        color: var(--secondary-color);
    }

    @media (max-width: 768px) {
        .feedback-container {
            grid-template-columns: 1fr;
        }
    }
</style>
